

<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <title>Hello, world!</title>
  </head>
  <body>

<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>

<div class="container">
    <table id="myTable" class="table">
    <thead>
        <tr>
            <td>Icon</td>
            <td>name</td>
            <td>decription</td>
            <td>usage</td>
            <td>categories, split by "," (comma) </td>
        </tr>

    </thead>
    <tbody>
      
    </tbody>
    <tfoot>
        <tr>
            <td colspan="5" style="text-align: left;">
                <input type="button" class="btn btn-lg btn-block " id="save" value="Save data" />
            </td>
        </tr>
        <tr>
        </tr>
    </tfoot>
</table>
</div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script type="text/javascript">
      $(document).ready(function () {
    var counter = 0;
    var data = ['ic_gift_actor_card',
'ic_gift_alcohol',
'ic_gift_cookbook',
'ic_gift_art_card',
'ic_gift_autoregistrator',
'ic_gift_backgammon',
'ic_gift_bag_m',
'ic_gift_bag_w',
'ic_gift_baloon_card',
'ic_gift_belt',
'ic_gift_bike',
'ic_gift_billiards_card',
'ic_gift_book',
'ic_gift_buggy_driving',
'ic_gift_camera',
'ic_gift_ceramic_teapot',
'ic_gift_cigars',
'ic_gift_clothes_m',
'ic_gift_concert_tikets',
'ic_gift_cookies_form',
'ic_gift_cosmetics_m',
'ic_gift_diary',
'ic_gift_dishes2',
'ic_gift_dishes',
'ic_gift_djlessons_card',
'ic_gift_drivinglessons_card',
'ic_gift_drums_card',
'ic_gift_electric_shaver',
'ic_gift_ereader',
'ic_gift_excursion_card',
'ic_gift_extreme_driving_card',
'ic_gift_fishing_card',
'ic_gift_fishing',
'ic_gift_flashmemory',
'ic_gift_food_processor',
'ic_gift_foot_warmer',
'ic_gift_game_for_couple',
'ic_gift_gamesclub_card',
'ic_gift_glasses',
'ic_gift_grilkit',
'ic_gift_guitarlessons_card',
'ic_gift_gym_m',
'ic_gift_gym_w',
'ic_gift_headphones',
'ic_gift_health_m',
'ic_gift_health_w',
'ic_gift_itrest_card',
'ic_gift_jeverly_box',
'ic_gift_juicer',
'ic_gift_karting_card',
'ic_gift_keyholder',
'ic_gift_laptop',
'ic_gift_magicball',
'ic_gift_massage_card',
'ic_gift_massager',
'ic_gift_mirror',
'ic_gift_model',
'ic_gift_pan',
'ic_gift_parfume_m_1',
'ic_gift_parfume_m',
'ic_gift_phone_m',
'ic_gift_phone_w',
'ic_gift_photo_card',
'ic_gift_poncho',
'ic_gift_pottery_card',
'ic_gift_ps',
'ic_gift_purse',
'ic_gift_quest_card',
'ic_gift_quilling_card',
'ic_gift_razor',
'ic_gift_riding_card',
'ic_gift_ridingtour_card',
'ic_gift_romantic_deinner',
'ic_gift_seat_covers',
'ic_gift_self_defense_card',
'ic_gift_shavingkit',
'ic_gift_shop_card_m',
'ic_gift_shopping_card',
'ic_gift_skateboard',
'ic_gift_skewerkit',
'ic_gift_sleepwear_m',
'ic_gift_smartwatch',
'ic_gift_smoking_pipe',
'ic_gift_sneakers',
'ic_gift_soccer_ticket',
'ic_gift_spa_card_1',
'ic_gift_spa_card',
'ic_gift_sport_stuff',
'ic_gift_sushi_card',
'ic_gift_taepot',
'ic_gift_tennis_card',
'ic_gift_theatre_tickets',
'ic_gift_thermocup',
'ic_gift_tonometr',
'ic_gift_tools',
'ic_gift_travel_case',
'ic_gift_travel_tour_card',
'ic_gift_traveltour_tickets',
'ic_gift_umbrella_m',
'ic_gift_umbrella_w',
'ic_gift_vocal_card',
'ic_gift_watch_m',
'ic_gift_watch_w',
'ic_gift_weekend_card',
'ic_gift_xbox',
'ic_gift_yoga_card']


    data.forEach(function(element) {
        var newRow = $('<tr id="'+element+'"">');
        var cols = "";

        cols += '<td><img src="img/' + element + '.png" width="96" height="96"></td>'
        cols += '<td><input type="text" class="form-control" name="name' + element + '"/></td>';
        cols += '<td><input type="text" class="form-control" name="desc' + element + '"/></td>';
        cols += '<td><input type="text" class="form-control" name="usage' + element + '"/></td>';
        // cols += '<td><input type="text" class="form-control" name="cat' + element + '"/></td>';
        cols += '<td><select class="selectpicker" multiple><option>accounting</option><option>airport</option><option>amusement_park</option><option>aquarium</option><option>art_gallery</option><option>atm</option><option>bakery</option><option>bank</option><option>bar</option><option>beauty_salon</option><option>bicycle_store</option><option>book_store</option><option>bowling_alley</option><option>bus_station</option><option>cafe</option><option>campground</option><option>car_dealer</option><option>car_rental</option><option>car_repair</option><option>car_wash</option><option>casino</option><option>cemetery</option><option>church</option><option>city_hall</option><option>clothing_store</option><option>convenience_store</option><option>courthouse</option><option>dentist</option><option>department_store</option><option>doctor</option><option>electrician</option><option>electronics_store</option><option>embassy</option><option>fire_station</option><option>florist</option><option>funeral_home</option><option>furniture_store</option><option>gas_station</option><option>gym</option><option>hair_care</option><option>hardware_store</option><option>hindu_temple</option><option>home_goods_store</option><option>hospital</option><option>insurance_agency</option><option>jewelry_store</option><option>laundry</option><option>lawyer</option><option>library</option><option>liquor_store</option><option>local_government_office</option><option>locksmith</option><option>lodging</option><option>meal_delivery</option><option>meal_takeaway</option><option>mosque</option><option>movie_rental</option><option>movie_theater</option><option>moving_company</option><option>museum</option><option>night_club</option><option>painter</option><option>park</option><option>parking</option><option>pet_store</option><option>pharmacy</option><option>physiotherapist</option><option>plumber</option><option>police</option><option>post_office</option><option>real_estate_agency</option><option>restaurant</option><option>roofing_contractor</option><option>rv_park</option><option>school</option><option>shoe_store</option><option>shopping_mall</option><option>spa</option><option>stadium</option><option>storage</option><option>store</option><option>subway_station</option><option>supermarket</option><option>synagogue</option><option>taxi_stand</option><option>train_station</option><option>transit_station</option><option>travel_agency</option><option>veterinary_care</option><option>zoo</option></select></td>'
        newRow.append(cols);
        $("table").append(newRow);
        counter++;
    });
    console.log(counter);
 $("#save").on("click", function () {
    var csv = []
    var table = document.getElementById("myTable");
    document.getElementById("myTable").rows[1].cells[2].children[0].value
    for (var i = 1, row; row = table.rows[i]; i++) {
      if(i == 107) break;
      console.log(i);
      var id = row.id
      var name = row.cells[1].children[0].value;
      var desc = row.cells[2].children[0].value;
      var usage = row.cells[3].children[0].value;
      var cat = Array.from(row.cells[4].children[0].selectedOptions).map(op=> op.value).join("/")
      var rowData = [id, name, desc, usage, cat];
      csv.push(rowData);
    
  };
  console.log(csv);




let csvContent = "data:text/csv;charset=utf-8,";
csv.forEach(function(rowArray){
   let row = rowArray.join(",");
   csvContent += row + "\r\n";
}); 

var encodedUri = encodeURI(csvContent);
var link = document.createElement("a");
link.setAttribute("href", encodedUri);
link.setAttribute("download", "gift_ideas_data.csv");
link.innerHTML= "Click Here to download";
document.body.appendChild(link); // Required for FF

link.click(); // This will download the dat



})






});

    </script>


  </body>
</html>